# Migration `20201205043958-modify-user-fields`

This migration has been generated by Luke Hamilton at 12/4/2020, 11:39:58 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "User" ALTER COLUMN "address" DROP NOT NULL,
ALTER COLUMN "auth0id" DROP NOT NULL,
ALTER COLUMN "privateKey" DROP NOT NULL,
ALTER COLUMN "issuer" SET NOT NULL

DROP TABLE "session"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201008021533-add-last-logged-in-at-to-user..20201205043958-modify-user-fields
--- datamodel.dml
+++ datamodel.dml
@@ -4,17 +4,17 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model User {
   id               String        @default(cuid()) @id
   createdAt        DateTime      @default(now())
   updatedAt        DateTime      @updatedAt
   email            String        @unique
-  issuer           String?       @unique
+  issuer           String        @unique
   publicEthAddress String?
   lastLoginAt      Int?
   role             Role          @default(USER)
   walletAddress    String?       @unique
@@ -26,14 +26,14 @@
   username         String?       @unique
   username_lower   String?       @unique
   headline         String?
   avatar           String?
-  auth0id          String        @unique
+  auth0id          String?       @unique
   identity         String?
-  privateKey       String
+  privateKey       String?
   follows          User[]        @relation("follows", references: [id])
   followedBy       User[]        @relation("follows", references: [id])
-  address          String
+  address          String?
   followedTopics   Topic[]       @relation(references: [id])
   comments         Comment[]
   commentVotes     CommentVote[]
   votes            Vote[]
```


